<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Survey Page</title>

	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<style>
h5{font-family: sans-serif;
    color:#000000;
    font-weight: bold;
}
#modalpicture{height:300px;
              width:300px;
}
.modal-content{text-align: center;}

</style>

</head>
<body>

<div id ="modal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalname"></h2>
        </div>
        <div class="modal-body">
          <img id="modalpicture">
        </div>
    </div>
  </div>
</div>


<div class="container">
		
	<div class="jumbotron">
		<h1 class="text-center"><span class="glyphicon glyphicon-fire"></span> Friend Finder</h1>
      <br>
    <div class="text-center">
      <a href="/home"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>		
		</div>
	</div>

<div class="row">
	<div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-body">
        <form role="form">
            <div class="form-group">
                <label for="">Name</label>
                <input type="text" class="form-control" id="name">
            </div>
            <div class="form-group">
                <label for="">Picture Link</label>
                <input type="text" class="form-control" id="picture">
            </div>
              <br>
              <h5> 1=Inaccurate     3=Neutral     5=Accurate</h5>
              <br>

        </form>

    <!--Q1======================================================-->				
				
					<form role="form">
    					<h5> 1. I have a vivid imagination. </h5>
              <label class="radio-inline">
      						<input type="radio" name="q1" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q1" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q1" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q1" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q1" value="5">5
    					</label>
  					
  					</form> 

			<!--Q2======================================================-->				
				
			  <form role="form"> 
    					<h5>2. I prefer variety to routine. </h5>
              <label class="radio-inline">
      						<input type="radio" name="q2" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q2" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q2" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q2" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q2" value="5">5
    					</label>
  					
  		      </form> 

  			<!--Q3======================================================-->				
				
			  <form role="form">
    					<h5>3. I like to solve complex problems.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q3" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q3" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q3" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q3" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q3" value="5">5
    					</label>
  					
  		    </form>

  			<!--Q4======================================================-->				
				
			  <form role="form"> 
    					<h5>4. I trust others.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q4" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q4" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q4" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q4" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q4" value="5">5
    					</label>
  					
  		     </form> 

  			<!--Q5======================================================-->				
				
		 <form role="form"> 
    					<h5> 5. I dislike being the center of attention.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q5" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q5" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q5" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q5" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q5" value="5">5
    					</label>
  					
  	      </form> 
  			<!--Q6======================================================-->				
				
	   <form role="form"> 
    					<h5>6. I like order.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q6" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q6" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q6" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q6" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q6" value="5">5
    					</label>
  					
  		     </form> 			
							
  			<!--Q7======================================================-->				
				
		  <form role="form"> 
    					<h5>7. I am always on the go.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q7" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q7" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q7" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q7" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q7" value="5">5
    					</label>
  					
  	    </form> 

  			<!--Q8======================================================-->				
				
			 <form role="form"> 
    					<h5>8. I dislike talking about myself.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q8" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q8" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q8" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q8" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q8" value="5">5
    					</label>
  					
  		     </form> 	


  			<!--Q9======================================================-->				
				
			  <form role="form"> 
    					<h5> 9. I enjoy being part of a group.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q9" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q9" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q9" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q9" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q9" value="5">5
    					</label>
  					
  		      </form>	

  			<!--Q10======================================================-->				
				
			  <form role="form"> 
    					<h5>10. I start tasks right away.</h5>
              <label class="radio-inline">
      						<input type="radio" name="q10" value="1">1
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q10" value="2">2
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q10" value="3">3
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q10" value="4">4
    					</label>
    					<label class="radio-inline">
      						<input type="radio" name="q10" value="5">5
    					</label>
  					
  					</form>	
            <br>

							<button type="submit" id="submit" class="btn btn-primary submit">Submit</button>
						

					</div>
				</div>
	
			</div>
		</div>




	</div>
	
</body>
</html>

<script type= "text/javascript">


$("#submit").click(function(){      
    
    var vals = [];    
    var name = $('#name').val().trim();
    var picture = $('#picture').val().trim();
    
    //get answers from radio inputs put in vals array    
    for(var i = 1 ; i < 11 ; i++){
      if ($('input[name=q'+ i +']').is(':checked')){
        var val = $('input[name=q'+ i +']:checked').val();
        vals.push(val);
        }

    };
    
    //create object that will eventually be pushed to database	
    var surveyObject = { 
        name:name,
        picture:picture,
        vals:vals
    };

    	
    //check that all input boxes and answers filled out
    //if everything filled out post surveyObject to api/friends
    if(name==""){
      alert("fill in your name");
    }
    else if(picture==""){
      alert("fill in your picture link")
    }
    else if(vals.length < 10){
      alert("fill out all questions");
    }
    else{		
      var currentURL = window.location.origin;

      $.post(currentURL + "/api/friends", surveyObject,
	    function(data){
	    console.log(data)	;
      // insert name and picture into modal
      $("#modalname").html(data.name);
      $('#modalpicture').attr("src",data.picture);
	    });
      //open modal clear input boxes 
      $("#modal").modal('show');
      $('#name').val("");
      $('#picture').val("");
      // clears radio buttons
      for(var i = 1 ; i < 11 ;i++){
        $('input[name=q'+i+']').attr('checked',false);
      }
return false;
};


    

});


</script>
